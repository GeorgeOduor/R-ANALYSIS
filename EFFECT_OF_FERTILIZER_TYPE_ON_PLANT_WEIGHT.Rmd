---
title: "EFFECT OF FERTILIZER TYPE ON PLANT WEIGHT"
author: "George"
date: "August 13, 2018"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# ANOVA-What is It?

ANOVA (Analysis of Variance) is a statistical test used for testing if a significant difference occurs between two or more groups.In case of two groups ,results from ANOVA equals that from independent sample t test because.This is because statistically we know that $F^2=t$.

# Hypothesis


The hypothesis test of anova for t population is:

 $ H_0$ :$\mu_1=...=\mu_t$

$H_\alpha$:not all $\mu_i$($i=1,...t$) are equal.

## ONE WAY ANOVA
In one way ANOVA ,we compare the dependent variable means of two or more groups defined by categorical grouping factor.

## Case Problem
We want to investigate if the wight if some plants is influenced with using a type of fertilizer.For a sample i have 90 plants randomly divided into 3 groups of 30 plants each.I apply a biological fertilizer to the first group ,a chemical fertilizer to the second group and no fertilizer to the last group.I also have the weights of the plants after a period of 3 months.
### Data Import
```{r}
library(foreign)
plants=read.spss("parsley.sav",to.data.frame = TRUE,use.value.labels = TRUE)

```

### Data Checking

It is important to check our data for anomalies and also get a basic i idea of what it looks like.
```{r}
anyNA(plants)#cheking missing values
names(plants)

library(dplyr)
library(ggplot2)
ggplot(plants,mapping = aes(x=weight,y=,fill=fertilizer))+geom_histogram(position = "dodge")+facet_wrap(fertilizer~.)
ggplot(plants,mapping = aes(x=fertilizer,y=weight,fill=fertilizer))+geom_boxplot(position = "dodge")
```

Above plots steps show no sign of missing data or any serious anomalies.

###  Assumptions of the One way ANOVA.

1.  Variables should be IID(independent and identicaly distributed)
```{r}


```

The above graph gives a clear picture that this asumption is met.

2.  Homoscedaticity:Dependent variable has the same variance within the population
```{r}
bartlett.test(weight~fertilizer,data = plants)
```
 With a p value >0.05 we can conclude that there was no significant difference in the population variances.

3.  Normality.The dependent Variable is normaly distributed within each population
```{r}
library(car)
qqPlot(lm(weight~fertilizer,data=plants),simulate=TRUE,main="Q-Q Plot",labels = TRUE,ylab = "studentized residuals")
```

## Running ANOVA TEST IN R
```{r}
fit <- aov(weight ~ fertilizer,data = plants)
summary(fit)
library(gplots)
plotmeans(weight~fertilizer,xlab="FERTILIZER",ylab="WEIGHT",main="Mean plot",data = plants)
```

I will pay close attention to the summary output above.The DF column show the degree of freedom .The p value (Pr(>F)) is 0.28 ,this means that if population mean weights are exactly equal then i have 2.8% chance of finding the differences that i have observed in my sample.I can therefore safely fail to accept my Null hypothesis.

This means that the weights are significantly affected by the type of fertilizer.

### Reporting

My 3 fert types resulted in different mean weights for parsley plants,F(2,87)=3.7,P=0.028.


### Post Hoc Test(Multiple Comparisons)

Lets say I am dealing with three types of fertilizers and i reach at a conclution that my fertilizers effect are different from each other,how can i know which is different from which?

To do this we use ```TukeyHSD()``` test that will provide pairwise differences per group.

```{r}
TukeyHSD(fit)
par(las=2)
par(mar=c(5,8,4,2))
plot(TukeyHSD(fit))
```


# ONE WAY ANCOVA
This type of anova 













